Ci-dessous sont décrites les modifications qui doivent être faites au fonctionnement de chacune des étapes du jeu décrites précédemment.

\subsection{Écran d'accueil}

On ne doit pas pouvoir passer à la sélection des personnages avant que trois autres joueurs soient connectés (soit ensemble, soit au même serveur).
Il faudrait que l'écran affiche le nombre de joueurs actuellement connectés.
Quand tous les joueurs sont connectés on peut appuyer sur espace pour accéder à l'étape suivante.

\subsection{Choix des personnages}

On sélectionne son personnage comme avant (dans la version actuelle du jeu, on peut annuler sa sélection, pour simplifier on peut empêcher cela ici).
On doit voir les personnages sélectionnés par les trois autres joueurs.
Quand tout le monde a sélectionné son personnage on passe à l'étape suivante.

\paragraph{Amélioration possible~:}
Afficher, les déplacements que font les autres joueurs sur l'écran de sélection et pas seulement leur sélection finale.

\paragraph{Amélioration possible~:}
Permettre d'annuler sa sélection si on veut changer de personnage (cela complexifie la détection du moment où tout le monde a sélectionné son personnage).

\paragraph{Amélioration possible~:}
S'assurer qu'il n'y a pas plusieurs joueurs qui utilisent le même personnage.

\subsection{Décompte}

Pas de changements particuliers.
Il faudra s'assurer que le décompte démarre au même moment pour les trois joueurs.

\subsection{Course}

Pas de changements particuliers nécessaires.
On peut juste simuler les autres joueurs par l'aléatoire comme avant.

\paragraph{Amélioration possible~:}
Faire en sorte que l'ordre d'arrivée des personnages visible à l'écran corresponde le plus possible au vrai ordre d'arrivée tel qu'il sera affiché dans les résultats.

\paragraph{Amélioration possible~:}
Faire en sorte que le comportement visible des personnages corresponde au mieux au comportement réel de ces personnages (i.e. à la façon dont ils sont contrôlés par leurs joueurs respectifs).

\subsection{Résultats}

Les résultats doivent correspondre au vrai temps mis par chacun des joueurs~: les temps doivent donc être échangés pour pouvoir faire le classement.
Tous les joueurs doivent indiquer qu'ils sont prêts avant que le jeu retourne à l'étape du décompte et il faut afficher le nombre de joueurs prêts à tout moment.



\subsection{Quelques conseils}

\begin{itemize}
\item La chose principale à laquelle il faut faire attention est que les échanges à travers le réseau ne doivent pas se faire directement dans la boucle principale du jeu. En effet, les lectures sur le réseau sont bloquantes et en faire une dans cette boucle risquerait de bloquer tout le jeu. Il faut donc utiliser des goroutines pour gérer ces échanges en parallèle de l'exécution du jeu.
\item Il faudra mettre en place un protocol de communication entre les différentes instances du jeu pour que toutes puissent savoir où en sont les autres et pour qu'elles puissent se synchroniser.
\item En pratique, sur son instance du jeu, le plus simple est que chaque joueur soit le joueur P0 et que le programme détermine lui même quel autre programme auquel il est connecté est chacun des autres joueurs (donc les numéros des joueurs ne se correspondront pas entre les différentes instances du jeu qui jouent ensemble).
\paragraph{Améloration possible.}
Faire en sorte que les noms des joueurs soient les mêmes pour tout le monde.
\end{itemize}
